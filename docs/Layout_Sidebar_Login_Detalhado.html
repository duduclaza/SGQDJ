<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <title>PRD ‚Äî Layout, Sidebar, Login & Logout | SGQ OTI DJ</title>
    <style>
        @page {
            margin: 2cm;
            size: A4
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            color: #1e293b;
            line-height: 1.7;
            padding: 40px 50px;
            max-width: 920px;
            margin: 0 auto
        }

        h1 {
            font-size: 28px;
            color: #0f172a;
            border-bottom: 3px solid #3b82f6;
            padding-bottom: 12px;
            margin-bottom: 8px
        }

        h2 {
            font-size: 20px;
            color: #1e40af;
            margin-top: 36px;
            margin-bottom: 12px;
            border-left: 4px solid #3b82f6;
            padding-left: 12px
        }

        h3 {
            font-size: 16px;
            color: #334155;
            margin-top: 20px;
            margin-bottom: 8px
        }

        h4 {
            font-size: 14px;
            color: #475569;
            margin-top: 14px;
            margin-bottom: 6px
        }

        p,
        li {
            font-size: 13px
        }

        p {
            margin-bottom: 10px
        }

        ul,
        ol {
            margin-left: 20px;
            margin-bottom: 12px
        }

        li {
            margin-bottom: 4px
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 12px 0 20px;
            font-size: 12px
        }

        th {
            background: #1e40af;
            color: #fff;
            padding: 8px 10px;
            text-align: left;
            font-weight: 600
        }

        td {
            padding: 7px 10px;
            border-bottom: 1px solid #e2e8f0
        }

        tr:nth-child(even) {
            background: #f8fafc
        }

        code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            color: #7c3aed
        }

        .badge {
            display: inline-block;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600
        }

        .b-blue {
            background: #dbeafe;
            color: #1e40af
        }

        .b-green {
            background: #dcfce7;
            color: #166534
        }

        .b-red {
            background: #fef2f2;
            color: #991b1b
        }

        .b-yellow {
            background: #fefce8;
            color: #854d0e
        }

        .b-purple {
            background: #f3e8ff;
            color: #6b21a8
        }

        .b-orange {
            background: #fff7ed;
            color: #9a3412
        }

        .b-gray {
            background: #f1f5f9;
            color: #475569
        }

        .box {
            background: #f0f9ff;
            border: 1px solid #bae6fd;
            border-radius: 8px;
            padding: 16px;
            margin: 12px 0
        }

        .box-warn {
            background: #fffbeb;
            border-color: #fcd34d
        }

        .box-green {
            background: #f0fdf4;
            border-color: #86efac
        }

        .box-red {
            background: #fef2f2;
            border-color: #fca5a5
        }

        .cover {
            text-align: center;
            padding: 60px 0 40px;
            page-break-after: always
        }

        .cover h1 {
            font-size: 36px;
            border: none;
            margin-bottom: 16px
        }

        .cover p {
            font-size: 16px;
            color: #64748b
        }

        .cover .version {
            margin-top: 40px;
            font-size: 13px;
            color: #94a3b8
        }

        .pb {
            page-break-before: always
        }

        .tag {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 600;
            margin-right: 4px
        }

        .tag-g {
            background: #dcfce7;
            color: #166534
        }

        .tag-a {
            background: #fef3c7;
            color: #92400e
        }

        .tag-p {
            background: #ede9fe;
            color: #6b21a8
        }

        .tag-r {
            background: #fef2f2;
            color: #991b1b
        }

        /* MOCKUPS */
        .mock {
            border: 2px solid #cbd5e1;
            border-radius: 12px;
            padding: 0;
            margin: 16px 0;
            background: #fff;
            overflow: hidden
        }

        .mock-top {
            background: #1e293b;
            padding: 16px 20px;
            display: flex;
            align-items: center;
            justify-content: space-between
        }

        .mock-top .logo {
            color: #fff;
            font-weight: 700;
            font-size: 16px
        }

        .mock-top .logo span {
            color: #60a5fa
        }

        .mock-top-icons {
            display: flex;
            gap: 12px;
            align-items: center
        }

        .mock-top-icons span {
            color: #94a3b8;
            font-size: 16px;
            cursor: pointer
        }

        .mock-body {
            display: flex;
            min-height: 420px
        }

        /* Sidebar mock */
        .sb {
            width: 250px;
            background: #1e293b;
            padding: 12px;
            flex-shrink: 0;
            border-right: 1px solid #334155
        }

        .sb-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 8px 12px;
            border-radius: 8px;
            color: #94a3b8;
            font-size: 12px;
            margin-bottom: 2px;
            cursor: default
        }

        .sb-item:hover,
        .sb-item.active {
            background: #334155;
            color: #fff
        }

        .sb-item.active {
            background: #2563eb;
            color: #fff
        }

        .sb-cat {
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            color: #64748b;
            font-weight: 700;
            padding: 16px 12px 6px;
            margin-top: 4px
        }

        .sb-sub {
            margin-left: 24px
        }

        .sb-sep {
            border-top: 1px solid #334155;
            margin: 8px 0
        }

        .sb-badge {
            background: #eab308;
            color: #000;
            font-size: 9px;
            padding: 1px 6px;
            border-radius: 4px;
            font-weight: 700;
            margin-left: auto
        }

        .sb-badge-purple {
            background: linear-gradient(135deg, #a855f7, #ec4899);
            color: #fff
        }

        .sb-user {
            border-top: 1px solid #334155;
            padding: 12px;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: auto
        }

        .sb-avatar {
            width: 32px;
            height: 32px;
            background: #2563eb;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            font-weight: 600;
            font-size: 13px
        }

        .sb-user-info {
            flex: 1
        }

        .sb-user-info div:first-child {
            color: #fff;
            font-size: 12px;
            font-weight: 600
        }

        .sb-user-info div:last-child {
            color: #64748b;
            font-size: 10px
        }

        .sb-icons {
            display: flex;
            gap: 8px
        }

        .sb-icons span {
            color: #64748b;
            font-size: 14px
        }

        /* Content area */
        .content {
            flex: 1;
            background: #f8fafc;
            padding: 30px;
            display: flex;
            align-items: center;
            justify-content: center
        }

        .content-placeholder {
            text-align: center;
            color: #94a3b8
        }

        .content-placeholder .icon {
            font-size: 48px;
            margin-bottom: 12px
        }

        .content-placeholder .text {
            font-size: 14px
        }

        /* Login mock */
        .login-mock {
            display: flex;
            min-height: 480px;
            border-radius: 12px;
            overflow: hidden;
            border: 2px solid #cbd5e1;
            margin: 16px 0
        }

        .login-left {
            flex: 1;
            background: linear-gradient(135deg, #3b82f6 0%, #8b5cf6 50%, #6366f1 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px
        }

        .login-form {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            padding: 32px;
            width: 100%;
            max-width: 340px;
            border: 1px solid rgba(255, 255, 255, 0.2)
        }

        .login-form h3 {
            color: #fff;
            font-size: 18px;
            text-align: center;
            margin-bottom: 4px
        }

        .login-form p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 12px;
            text-align: center;
            margin-bottom: 20px
        }

        .login-field {
            margin-bottom: 14px
        }

        .login-field label {
            display: block;
            color: rgba(255, 255, 255, 0.8);
            font-size: 11px;
            margin-bottom: 4px;
            font-weight: 600
        }

        .login-field .inp {
            width: 100%;
            padding: 10px 12px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.3);
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 12px
        }

        .login-btn {
            width: 100%;
            padding: 12px;
            border: none;
            border-radius: 8px;
            background: #2563eb;
            color: #fff;
            font-weight: 700;
            font-size: 13px;
            margin-top: 8px;
            cursor: pointer
        }

        .login-links {
            text-align: center;
            margin-top: 16px
        }

        .login-links a {
            color: rgba(255, 255, 255, 0.7);
            font-size: 11px;
            text-decoration: none;
            display: block;
            margin-bottom: 6px
        }

        .login-right {
            flex: 1;
            background: linear-gradient(135deg, #fff 0%, #f8fafc 50%, #f1f5f9 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 40px
        }

        .login-right .brand {
            text-align: center
        }

        .login-right .brand h1 {
            font-size: 72px;
            font-weight: 900;
            background: linear-gradient(135deg, #1e40af, #3b82f6, #60a5fa);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 16px
        }

        .login-right .brand p {
            color: #94a3b8;
            font-size: 14px
        }

        .form-row {
            display: flex;
            gap: 12px;
            margin-bottom: 10px;
            flex-wrap: wrap
        }

        .form-field {
            flex: 1;
            min-width: 180px
        }

        .form-field label {
            display: block;
            font-size: 11px;
            font-weight: 600;
            color: #64748b;
            margin-bottom: 3px;
            text-transform: uppercase
        }

        .form-field .input {
            border: 1px solid #cbd5e1;
            border-radius: 6px;
            padding: 8px 10px;
            font-size: 12px;
            color: #334155;
            background: #f8fafc;
            width: 100%
        }

        .btn {
            display: inline-block;
            padding: 8px 20px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin-right: 8px
        }

        .btn-p {
            background: #3b82f6;
            color: #fff
        }
    </style>
</head>

<body>

    <!-- CAPA -->
    <div class="cover">
        <p style="font-size:14px;color:#3b82f6;font-weight:600;letter-spacing:2px">SGQ OTI DJ</p>
        <h1>Layout, Sidebar, Login & Logout</h1>
        <p>Especifica√ß√£o do layout principal, estrutura de navega√ß√£o do sidebar,<br>fluxo de login/logout/registro e
            listagem de todos os m√≥dulos.</p>
        <div class="version">
            <p>Vers√£o 1.0 ‚Äî Fevereiro 2026</p>
            <p>Stack alvo: Next.js 14 + TypeScript + Tailwind CSS + shadcn/ui</p>
        </div>
    </div>

    <!-- ============================================ -->
    <!-- 1. VIS√ÉO GERAL DO LAYOUT -->
    <!-- ============================================ -->

    <h2>1. Vis√£o Geral do Layout</h2>

    <p>O sistema usa dois layouts distintos:</p>
    <table>
        <tr>
            <th>Layout</th>
            <th>Arquivo PHP</th>
            <th>Next.js</th>
            <th>Onde √© usado</th>
        </tr>
        <tr>
            <td><strong>Auth Layout</strong></td>
            <td><code>layouts/auth.php</code></td>
            <td><code>app/(auth)/layout.tsx</code></td>
            <td>Login, Registro, Recupera√ß√£o de Senha, Solicitar Acesso</td>
        </tr>
        <tr>
            <td><strong>Main Layout</strong></td>
            <td><code>layouts/main.php</code></td>
            <td><code>app/(dashboard)/layout.tsx</code></td>
            <td>Todas as p√°ginas autenticadas (com sidebar)</td>
        </tr>
    </table>

    <h3>1.1 Estrutura do Main Layout</h3>
    <div class="mock">
        <div class="mock-top">
            <div class="logo"><span>OTI</span> ‚Äî SGQ</div>
            <div class="mock-top-icons">
                <span>üîî</span>
                <span>üé´ Suporte</span>
                <span>üë§</span>
            </div>
        </div>
        <div class="mock-body">
            <div class="sb" style="display:flex;flex-direction:column">
                <div>
                    <div class="sb-item active">üè† In√≠cio</div>
                    <div class="sb-item">üìä Dashboard</div>
                    <div class="sb-item">üéì e-Learning Atlas <span class="sb-badge sb-badge-purple">EM BREVE</span>
                    </div>
                    <div class="sb-item">üë• RH</div>
                    <div class="sb-sep"></div>
                    <div class="sb-cat">üìù Cadastros</div>
                    <div class="sb-sub sb-item">üì¶ Cadastros 2.0 <span class="sb-badge">NOVO</span></div>
                    <div class="sb-sub sb-item">üíß Cadastro de Toners</div>
                    <div class="sb-sub sb-item">üñ®Ô∏è Cadastro de M√°quinas</div>
                    <div class="sb-sub sb-item">üîß Cadastro de Pe√ßas</div>
                    <div class="sb-sub sb-item">üè≠ Cadastro de Fornecedores</div>
                    <div class="sb-sub sb-item">üìÑ Cadastro de Contratos</div>
                    <div class="sb-sub sb-item">üë• Cadastro de Clientes</div>
                    <div class="sb-sep"></div>
                    <div class="sb-cat">üìã Gest√£o da Qualidade</div>
                    <div class="sb-sub sb-item" style="color:#64748b;font-size:10px">... (ver se√ß√£o 3)</div>
                    <div class="sb-sep"></div>
                    <div class="sb-cat">‚öôÔ∏è Administrativo</div>
                    <div class="sb-sub sb-item" style="color:#64748b;font-size:10px">... (ver se√ß√£o 3)</div>
                </div>
                <div style="margin-top:auto">
                    <div class="sb-user">
                        <div class="sb-avatar">J</div>
                        <div class="sb-user-info">
                            <div>Jo√£o Silva</div>
                            <div>admin</div>
                        </div>
                        <div class="sb-icons"><span>üîî</span><span>üö™</span></div>
                    </div>
                </div>
            </div>
            <div class="content">
                <div class="content-placeholder">
                    <div class="icon">üìÑ</div>
                    <div class="text"><strong>Conte√∫do da P√°gina</strong><br>Cada m√≥dulo renderiza seu conte√∫do
                        aqui.<br>As p√°ginas dos m√≥dulos devem ser <strong>criadas vazias</strong> (placeholder)<br>e
                        ser√£o desenvolvidas uma a uma.</div>
                </div>
            </div>
        </div>
    </div>

    <h3>1.2 Comportamento Responsivo</h3>
    <table>
        <tr>
            <th>Viewport</th>
            <th>Sidebar</th>
            <th>Header Mobile</th>
        </tr>
        <tr>
            <td><strong>Desktop</strong> (‚â•1024px / <code>lg:</code>)</td>
            <td>Sidebar fixo, 288px (<code>w-72</code>), sempre vis√≠vel</td>
            <td>Oculto</td>
        </tr>
        <tr>
            <td><strong>Mobile</strong> (<1024px)< /td>
            <td>Drawer oculto, abre com bot√£o hamb√∫rguer, overlay escuro</td>
            <td>Barra de 56px com logo e bot√£o menu</td>
        </tr>
    </table>

    <div class="box box-warn">
        <strong>‚ö†Ô∏è Para o Dev:</strong> No Next.js, o sidebar ser√° um componente <code>Sidebar.tsx</code> importado no
        layout. Usar <code>useState</code> para controlar exibi√ß√£o do drawer mobile. As classes TailwindCSS
        <code>hidden lg:flex</code> controlam a visibilidade responsiva.
    </div>

    <!-- ============================================ -->
    <!-- 2. LOGIN, LOGOUT & AUTENTICA√á√ÉO -->
    <!-- ============================================ -->

    <h2 class="pb">2. Login, Logout & Autentica√ß√£o</h2>

    <h3>2.1 Mockup ‚Äî Tela de Login</h3>
    <div class="login-mock">
        <div class="login-left">
            <div class="login-form">
                <h3>üîê Entrar no SGQ</h3>
                <p>Sistema de Gest√£o da Qualidade OTI</p>
                <div class="login-field">
                    <label>Email</label>
                    <div class="inp">usuario@oti.com.br</div>
                </div>
                <div class="login-field">
                    <label>Senha</label>
                    <div class="inp">‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢</div>
                </div>
                <div class="login-btn">ENTRAR</div>
                <div class="login-links">
                    <a href="#">Esqueceu a senha?</a>
                    <a href="#">Solicitar acesso</a>
                    <a href="#">Criar conta</a>
                </div>
            </div>
        </div>
        <div class="login-right">
            <div class="brand">
                <h1>OTI</h1>
                <p>Organiza√ß√£o Tecnol√≥gica Integrada</p>
            </div>
        </div>
    </div>

    <h3>2.2 Rotas de Autentica√ß√£o</h3>
    <table>
        <tr>
            <th>M√©todo</th>
            <th>Rota PHP</th>
            <th>Rota Next.js</th>
            <th>Descri√ß√£o</th>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/login</code></td>
            <td><code>/login</code></td>
            <td>Tela de login</td>
        </tr>
        <tr>
            <td><span class="badge b-green">POST</span></td>
            <td><code>/auth/login</code></td>
            <td><code>/api/auth/signin</code></td>
            <td>Autenticar (NextAuth)</td>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/logout</code></td>
            <td><code>/api/auth/signout</code></td>
            <td>Finalizar sess√£o</td>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/register</code></td>
            <td><code>/register</code></td>
            <td>Tela de registro</td>
        </tr>
        <tr>
            <td><span class="badge b-green">POST</span></td>
            <td><code>/auth/register</code></td>
            <td><code>/api/auth/register</code></td>
            <td>Processar registro</td>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/password-reset/request</code></td>
            <td><code>/forgot-password</code></td>
            <td>Solicitar reset de senha</td>
        </tr>
        <tr>
            <td><span class="badge b-green">POST</span></td>
            <td><code>/password-reset/request</code></td>
            <td><code>/api/auth/reset-password</code></td>
            <td>Enviar email de reset</td>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/password-reset/verify</code></td>
            <td><code>/reset-password/verify</code></td>
            <td>Verificar c√≥digo</td>
        </tr>
        <tr>
            <td><span class="badge b-green">POST</span></td>
            <td><code>/password-reset/reset</code></td>
            <td><code>/api/auth/new-password</code></td>
            <td>Nova senha</td>
        </tr>
        <tr>
            <td><span class="badge b-blue">GET</span></td>
            <td><code>/request-access</code></td>
            <td><code>/request-access</code></td>
            <td>Solicitar acesso (p√∫blico)</td>
        </tr>
        <tr>
            <td><span class="badge b-green">POST</span></td>
            <td><code>/access-request/process</code></td>
            <td><code>/api/access-request</code></td>
            <td>Processar solicita√ß√£o</td>
        </tr>
    </table>

    <h3>2.3 Fluxo de Autentica√ß√£o</h3>
    <div class="box">
        <p style="font-size:12px;margin:0">
            <strong>1.</strong> Usu√°rio acessa <code>/login</code> ‚Üí Auth Layout (sem sidebar)<br>
            <strong>2.</strong> Preenche email + senha ‚Üí POST para NextAuth <code>CredentialsProvider</code><br>
            <strong>3.</strong> NextAuth valida no MariaDB via Prisma ‚Üí Cria sess√£o JWT<br>
            <strong>4.</strong> Redireciona para <code>/inicio</code> (todos) ou <code>/dashboard</code> (se tiver
            permiss√£o)<br>
            <strong>5.</strong> Main Layout renderiza com sidebar + conte√∫do da p√°gina<br>
            <strong>6.</strong> Logout: Chamada para <code>/api/auth/signout</code> ‚Üí limpa sess√£o ‚Üí redireciona
            <code>/login</code>
        </p>
    </div>

    <h3>2.4 Layout da Tela de Login</h3>
    <ul>
        <li><strong>Split 50/50:</strong> Painel esquerdo (gradiente azul/roxo) com formul√°rio</li>
        <li><strong>Painel direito:</strong> Branding "OTI" com efeito typwriter "Organiza√ß√£o Tecnol√≥gica Integrada"
        </li>
        <li><strong>Glassmorphism:</strong> Formul√°rio com fundo semi-transparente + blur</li>
        <li><strong>Mobile:</strong> Painel direito oculto ‚Äî apenas formul√°rio ocupa 100%</li>
        <li><strong>Tema Natalino:</strong> Em dezembro, neve caindo + Papai Noel voando (opcional para Next.js)</li>
    </ul>

    <h3>2.5 Sess√£o do Usu√°rio (dados armazenados)</h3>
    <table>
        <tr>
            <th>Campo</th>
            <th>Sess√£o PHP</th>
            <th>JWT Next.js</th>
            <th>Uso</th>
        </tr>
        <tr>
            <td>ID do usu√°rio</td>
            <td><code>$_SESSION['user_id']</code></td>
            <td><code>session.user.id</code></td>
            <td>Identifica√ß√£o</td>
        </tr>
        <tr>
            <td>Nome</td>
            <td><code>$_SESSION['user_name']</code></td>
            <td><code>session.user.name</code></td>
            <td>Exibi√ß√£o</td>
        </tr>
        <tr>
            <td>Email</td>
            <td><code>$_SESSION['user_email']</code></td>
            <td><code>session.user.email</code></td>
            <td>Identifica√ß√£o</td>
        </tr>
        <tr>
            <td>Role</td>
            <td><code>$_SESSION['user_role']</code></td>
            <td><code>session.user.role</code></td>
            <td>Controle de acesso</td>
        </tr>
        <tr>
            <td>Setor</td>
            <td><code>$_SESSION['user_setor']</code></td>
            <td><code>session.user.setor</code></td>
            <td>Filtro RH no sidebar</td>
        </tr>
        <tr>
            <td>Notifica√ß√µes</td>
            <td><code>$_SESSION['notificacoes_ativadas']</code></td>
            <td><code>session.user.notifications</code></td>
            <td>Exibir/ocultar sininho</td>
        </tr>
    </table>

    <!-- ============================================ -->
    <!-- 3. ESTRUTURA COMPLETA DO SIDEBAR -->
    <!-- ============================================ -->

    <h2 class="pb">3. Estrutura Completa do Sidebar ‚Äî Todos os M√≥dulos</h2>

    <div class="box box-red">
        <strong>üö® IMPORTANTE PARA O DEV:</strong> Todas as p√°ginas de m√≥dulos listadas abaixo devem ser <strong>criadas
            VAZIAS</strong> (apenas o layout com o t√≠tulo do m√≥dulo). O conte√∫do de cada m√≥dulo ser√° implementado um a
        um, conforme a prioridade definida no roadmap.
    </div>

    <h3>3.1 Itens Fixos (Topo ‚Äî Sem Categoria)</h3>
    <table>
        <tr>
            <th>√çcone</th>
            <th>Label</th>
            <th>Rota</th>
            <th>Permiss√£o</th>
            <th>Obs</th>
        </tr>
        <tr>
            <td>üè†</td>
            <td><strong>In√≠cio</strong></td>
            <td><code>/inicio</code></td>
            <td>Todos autenticados</td>
            <td>P√°gina inicial p√≥s-login</td>
        </tr>
        <tr>
            <td>üìä</td>
            <td><strong>Dashboard</strong></td>
            <td><code>/dashboard</code></td>
            <td><code>dashboard.view</code></td>
            <td>Dashboard anal√≠tico</td>
        </tr>
        <tr>
            <td>üéì</td>
            <td><strong>e-Learning Atlas</strong></td>
            <td>‚Äî</td>
            <td>Todos</td>
            <td><span class="tag tag-p">EM BREVE</span> Mostra anima√ß√£o</td>
        </tr>
        <tr>
            <td>üë•</td>
            <td><strong>RH</strong></td>
            <td>Link externo</td>
            <td>Admin OU Setor = "RH"</td>
            <td>Abre nova aba</td>
        </tr>
    </table>

    <h3>3.2 Categoria: üìù Cadastros</h3>
    <table>
        <tr>
            <th>√çcone</th>
            <th>Label</th>
            <th>Rota Next.js</th>
            <th>M√≥dulo (permiss√£o)</th>
            <th>Obs</th>
        </tr>
        <tr>
            <td>üì¶</td>
            <td>Cadastros 2.0</td>
            <td><code>/cadastros</code></td>
            <td><code>cadastros_2</code></td>
            <td><span class="sb-badge">NOVO</span> Apenas super_admin</td>
        </tr>
        <tr>
            <td>üíß</td>
            <td>Cadastro de Toners</td>
            <td><code>/toners/cadastro</code></td>
            <td><code>toners_cadastro</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üñ®Ô∏è</td>
            <td>Cadastro de M√°quinas</td>
            <td><code>/cadastro-maquinas</code></td>
            <td><code>cadastro_maquinas</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üîß</td>
            <td>Cadastro de Pe√ßas</td>
            <td><code>/cadastro-pecas</code></td>
            <td><code>cadastro_pecas</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üè≠</td>
            <td>Cadastro de Fornecedores</td>
            <td><code>/registros/fornecedores</code></td>
            <td><code>registros_fornecedores</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìÑ</td>
            <td>Cadastro de Contratos</td>
            <td><code>/cadastros/contratos</code></td>
            <td><code>cadastro_contratos</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üë•</td>
            <td>Cadastro de Clientes</td>
            <td><code>/cadastros/clientes</code></td>
            <td><code>cadastro_clientes</code></td>
            <td><span class="tag tag-a">Admin only</span></td>
        </tr>
    </table>

    <h3>3.3 Categoria: üìã Gest√£o da Qualidade</h3>
    <table>
        <tr>
            <th>√çcone</th>
            <th>Label</th>
            <th>Rota Next.js</th>
            <th>M√≥dulo (permiss√£o)</th>
            <th>Obs</th>
        </tr>
        <tr>
            <td>üìã</td>
            <td>Registro de Retornados</td>
            <td><code>/toners/retornados</code></td>
            <td><code>toners_retornados</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>‚ö†Ô∏è</td>
            <td>Toners com Defeito</td>
            <td><code>/toners/defeitos</code></td>
            <td><code>toners_defeitos</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üî¨</td>
            <td>Amostragens 2.0</td>
            <td><code>/amostragens</code></td>
            <td><code>amostragens_2</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>‚ôªÔ∏è</td>
            <td>Controle de Descartes</td>
            <td><code>/controle-descartes</code></td>
            <td><code>controle_descartes</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>‚úÖ</td>
            <td>Homologa√ß√µes</td>
            <td><code>/homologacoes</code></td>
            <td><code>homologacoes</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìú</td>
            <td>Certificados</td>
            <td><code>/certificados</code></td>
            <td><code>certificados</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìà</td>
            <td>FMEA</td>
            <td><code>/fmea</code></td>
            <td><code>fmea</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìö</td>
            <td>POPs e ITs</td>
            <td><code>/pops-e-its</code></td>
            <td><code>pops_its_visualizacao</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üîÄ</td>
            <td>Fluxogramas</td>
            <td><code>/fluxogramas</code></td>
            <td><code>fluxogramas</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üîç</td>
            <td>Auditorias</td>
            <td><code>/auditorias</code></td>
            <td><code>auditorias</code></td>
            <td><span class="tag tag-a">Admin only</span></td>
        </tr>
        <tr>
            <td>‚ö†Ô∏è</td>
            <td>N√£o Conformidades</td>
            <td><code>/nao-conformidades</code></td>
            <td><code>nao_conformidades</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üöÄ</td>
            <td>Melhoria Cont√≠nua</td>
            <td><code>/melhoria-continua</code></td>
            <td><code>melhoria_continua_2</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üóÇÔ∏è</td>
            <td>Controle de RC</td>
            <td><code>/controle-de-rc</code></td>
            <td><code>controle_rc</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td colspan="5" style="background:#f0f9ff"><strong>üõ°Ô∏è Garantia</strong> <em>(submenu aninhado)</em></td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>‚Ü≥ Registro de Garantias</td>
            <td><code>/garantias</code></td>
            <td><code>garantias</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>‚Ü≥ Requisi√ß√£o de Garantias</td>
            <td><code>/garantias/requisicao</code></td>
            <td><code>garantias</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>‚Ü≥ Requisi√ß√µes Pendentes</td>
            <td><code>/garantias/pendentes</code></td>
            <td><code>garantias</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>&nbsp;</td>
            <td>‚Ü≥ Consulta de Garantias</td>
            <td><code>/garantias/consulta</code></td>
            <td><code>garantias</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìä</td>
            <td>Formul√°rios Online</td>
            <td><code>/nps</code></td>
            <td><code>nps</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
    </table>

    <h3>3.4 Categoria: ‚öôÔ∏è Administrativo</h3>
    <table>
        <tr>
            <th>√çcone</th>
            <th>Label</th>
            <th>Rota Next.js</th>
            <th>M√≥dulo (permiss√£o)</th>
            <th>Obs</th>
        </tr>
        <tr>
            <td>üë•</td>
            <td>Gerenciar Usu√°rios</td>
            <td><code>/admin/users</code></td>
            <td><code>admin_usuarios</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üé≠</td>
            <td>Gerenciar Perfis</td>
            <td><code>/admin/profiles</code></td>
            <td><code>admin_perfis</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìß</td>
            <td>Solicita√ß√µes de Acesso</td>
            <td><code>/admin/access-requests</code></td>
            <td><code>admin_convites</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìä</td>
            <td>APIs para Power BI</td>
            <td><code>/admin/powerbi</code></td>
            <td><code>api_powerbi</code></td>
            <td><span class="sb-badge">BETA</span></td>
        </tr>
        <tr>
            <td>üè¢</td>
            <td>Filiais</td>
            <td><code>/admin/registros/filiais</code></td>
            <td><code>registros_filiais</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üèõÔ∏è</td>
            <td>Departamentos</td>
            <td><code>/admin/registros/departamentos</code></td>
            <td><code>registros_departamentos</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üè≠</td>
            <td>Fornecedores</td>
            <td><code>/admin/registros/fornecedores</code></td>
            <td><code>registros_fornecedores</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
        <tr>
            <td>üìä</td>
            <td>Par√¢metros de Retornados</td>
            <td><code>/admin/registros/parametros</code></td>
            <td><code>registros_parametros</code></td>
            <td><span class="tag tag-g">VAZIO</span></td>
        </tr>
    </table>

    <h3>3.5 Itens Especiais (Abaixo das categorias)</h3>
    <table>
        <tr>
            <th>√çcone</th>
            <th>Label</th>
            <th>Rota</th>
            <th>Permiss√£o</th>
            <th>Obs</th>
        </tr>
        <tr>
            <td>üìä</td>
            <td><strong>Usabilidade</strong></td>
            <td><code>/usabilidade</code></td>
            <td>Apenas super_admin</td>
            <td>M√©tricas de uso do sistema</td>
        </tr>
    </table>

    <h3>3.6 Rodap√© do Sidebar ‚Äî √Årea do Usu√°rio</h3>
    <table>
        <tr>
            <th>Elemento</th>
            <th>Descri√ß√£o</th>
            <th>A√ß√£o</th>
        </tr>
        <tr>
            <td><strong>Avatar</strong></td>
            <td>C√≠rculo com inicial do nome ou foto de perfil</td>
            <td>Clica ‚Üí vai para <code>/profile</code></td>
        </tr>
        <tr>
            <td><strong>Nome + Role</strong></td>
            <td>Nome completo + cargo/role do usu√°rio</td>
            <td>Clica ‚Üí vai para <code>/profile</code></td>
        </tr>
        <tr>
            <td><strong>üîî Notifica√ß√µes</strong></td>
            <td>Sino com contador de n√£o lidas</td>
            <td>Clica ‚Üí dropdown com lista</td>
        </tr>
        <tr>
            <td><strong>üö™ Logout</strong></td>
            <td>Bot√£o sair</td>
            <td>Clica ‚Üí <code>/logout</code></td>
        </tr>
    </table>

    <!-- ============================================ -->
    <!-- 4. SISTEMA DE PERMISS√ïES DO SIDEBAR -->
    <!-- ============================================ -->

    <h2>4. Sistema de Permiss√µes do Sidebar</h2>

    <p>O sidebar renderiza os itens de menu <strong>dinamicamente</strong> baseado nas permiss√µes do usu√°rio logado. Um
        item s√≥ aparece se o usu√°rio tem permiss√£o <code>view</code> para o m√≥dulo associado.</p>

    <h3>4.1 Regras de Visibilidade</h3>
    <table>
        <tr>
            <th>Regra</th>
            <th>Comportamento</th>
        </tr>
        <tr>
            <td><code>admin_only: true</code></td>
            <td>Apenas roles admin/super_admin veem o item (sem checagem no banco)</td>
        </tr>
        <tr>
            <td><code>roles: ['super_admin']</code></td>
            <td>Apenas roles listados veem o item</td>
        </tr>
        <tr>
            <td><code>module: 'nome_modulo'</code></td>
            <td>Checa <code>PermissionService.hasPermission(userId, module, 'view')</code></td>
        </tr>
        <tr>
            <td>Categoria pai</td>
            <td>S√≥ aparece se pelo menos 1 submenu √© vis√≠vel</td>
        </tr>
        <tr>
            <td>Submenu aninhado</td>
            <td>Pai s√≥ aparece se pelo menos 1 filho √© vis√≠vel</td>
        </tr>
    </table>

    <h3>4.2 Implementa√ß√£o Next.js</h3>
    <div class="box">
        <p style="font-size:12px;margin:0">
            <strong>1.</strong> No layout, carregar permiss√µes do usu√°rio via <code>getServerSession()</code> +
            Prisma<br>
            <strong>2.</strong> Passar array de permiss√µes para o componente
            <code>&lt;Sidebar permissions={[...]} /&gt;</code><br>
            <strong>3.</strong> Sidebar filtra localmente o array de menu com base nas permiss√µes<br>
            <strong>4.</strong> Itens sem permiss√£o = n√£o renderizam (nem no DOM)<br>
            <strong>5.</strong> API Routes tamb√©m devem verificar permiss√µes (n√£o confiar apenas no frontend)
        </p>
    </div>

    <!-- ============================================ -->
    <!-- 5. TEMPLATE DE P√ÅGINA VAZIA -->
    <!-- ============================================ -->

    <h2 class="pb">5. Template de P√°gina Vazia (Para Todos os M√≥dulos)</h2>

    <p>Cada m√≥dulo listado nas se√ß√µes 3.2 a 3.5 deve ser criado como uma p√°gina vazia que exibe apenas:</p>

    <div class="mock">
        <div class="mock-top">
            <div class="logo"><span>OTI</span> ‚Äî SGQ</div>
            <div class="mock-top-icons"><span>üîî</span><span>üë§</span></div>
        </div>
        <div class="mock-body">
            <div class="sb" style="width:60px;display:flex;flex-direction:column;align-items:center;padding:8px">
                <div style="color:#64748b;font-size:10px;margin-top:8px">sidebar<br>colapsado</div>
            </div>
            <div class="content" style="flex-direction:column">
                <div class="content-placeholder">
                    <div class="icon">üöß</div>
                    <div class="text" style="font-size:16px"><strong>Nome do M√≥dulo</strong></div>
                    <div class="text" style="margin-top:8px;color:#94a3b8">Este m√≥dulo est√° em desenvolvimento.<br>Em
                        breve voc√™ ter√° acesso a todas as funcionalidades.</div>
                    <div
                        style="margin-top:20px;background:#f1f5f9;border-radius:8px;padding:12px 24px;display:inline-block">
                        <span style="font-size:12px;color:#64748b">üîí Permiss√£o necess√°ria:
                            <code>modulo.view</code></span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <h3>5.1 Componente Next.js ‚Äî P√°gina Placeholder</h3>
    <div class="box"
        style="font-family:Consolas,monospace;font-size:11px;line-height:1.5;white-space:pre;overflow-x:auto">//
        app/(dashboard)/[module]/page.tsx

        export default function ModulePage() {
        return (
        &lt;div className="flex flex-col items-center justify-center min-h-[60vh]"&gt;
        &lt;div className="text-6xl mb-4"&gt;üöß&lt;/div&gt;
        &lt;h1 className="text-2xl font-bold text-slate-700"&gt;
        Nome do M√≥dulo
        &lt;/h1&gt;
        &lt;p className="text-slate-400 mt-2 text-center"&gt;
        Este m√≥dulo est√° em desenvolvimento.&lt;br/&gt;
        Em breve voc√™ ter√° acesso a todas as funcionalidades.
        &lt;/p&gt;
        &lt;/div&gt;
        );
        }</div>

    <!-- ============================================ -->
    <!-- 6. LISTA COMPLETA DE M√ìDULOS (SLUGS) -->
    <!-- ============================================ -->

    <h2>6. Lista Completa de M√≥dulos ‚Äî Slugs para Permiss√µes</h2>

    <p>Estes s√£o os <code>module</code> slugs que devem existir na tabela <code>profile_permissions</code> para cada
        perfil:</p>

    <table>
        <tr>
            <th>#</th>
            <th>Slug do M√≥dulo</th>
            <th>Label</th>
            <th>Categoria</th>
        </tr>
        <tr>
            <td>1</td>
            <td><code>dashboard</code></td>
            <td>Dashboard</td>
            <td>Fixo</td>
        </tr>
        <tr>
            <td>2</td>
            <td><code>cadastros_2</code></td>
            <td>Cadastros 2.0</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>3</td>
            <td><code>toners_cadastro</code></td>
            <td>Cadastro de Toners</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>4</td>
            <td><code>cadastro_maquinas</code></td>
            <td>Cadastro de M√°quinas</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>5</td>
            <td><code>cadastro_pecas</code></td>
            <td>Cadastro de Pe√ßas</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>6</td>
            <td><code>registros_fornecedores</code></td>
            <td>Fornecedores</td>
            <td>Cadastros / Admin</td>
        </tr>
        <tr>
            <td>7</td>
            <td><code>cadastro_contratos</code></td>
            <td>Contratos</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>8</td>
            <td><code>cadastro_clientes</code></td>
            <td>Clientes</td>
            <td>Cadastros</td>
        </tr>
        <tr>
            <td>9</td>
            <td><code>toners_retornados</code></td>
            <td>Retornados</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>10</td>
            <td><code>toners_defeitos</code></td>
            <td>Toners com Defeito</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>11</td>
            <td><code>amostragens_2</code></td>
            <td>Amostragens</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>12</td>
            <td><code>controle_descartes</code></td>
            <td>Descartes</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>13</td>
            <td><code>homologacoes</code></td>
            <td>Homologa√ß√µes</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>14</td>
            <td><code>certificados</code></td>
            <td>Certificados</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>15</td>
            <td><code>fmea</code></td>
            <td>FMEA</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>16</td>
            <td><code>pops_its_visualizacao</code></td>
            <td>POPs e ITs</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>17</td>
            <td><code>fluxogramas</code></td>
            <td>Fluxogramas</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>18</td>
            <td><code>auditorias</code></td>
            <td>Auditorias</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>19</td>
            <td><code>nao_conformidades</code></td>
            <td>N√£o Conformidades</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>20</td>
            <td><code>melhoria_continua_2</code></td>
            <td>Melhoria Cont√≠nua</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>21</td>
            <td><code>controle_rc</code></td>
            <td>Controle de RC</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>22</td>
            <td><code>garantias</code></td>
            <td>Garantias (todas)</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>23</td>
            <td><code>nps</code></td>
            <td>Formul√°rios Online</td>
            <td>Qualidade</td>
        </tr>
        <tr>
            <td>24</td>
            <td><code>admin_usuarios</code></td>
            <td>Gerenciar Usu√°rios</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>25</td>
            <td><code>admin_perfis</code></td>
            <td>Gerenciar Perfis</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>26</td>
            <td><code>admin_convites</code></td>
            <td>Solicita√ß√µes Acesso</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>27</td>
            <td><code>api_powerbi</code></td>
            <td>APIs Power BI</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>28</td>
            <td><code>registros_filiais</code></td>
            <td>Filiais</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>29</td>
            <td><code>registros_departamentos</code></td>
            <td>Departamentos</td>
            <td>Admin</td>
        </tr>
        <tr>
            <td>30</td>
            <td><code>registros_parametros</code></td>
            <td>Par√¢metros Retornados</td>
            <td>Admin</td>
        </tr>
    </table>

    <!-- RODAP√â -->
    <div
        style="margin-top:60px;padding-top:20px;border-top:2px solid #e2e8f0;text-align:center;color:#94a3b8;font-size:11px">
        <p>SGQ OTI DJ ‚Äî Layout, Sidebar, Login & Logout ‚Äî PRD v1.0</p>
        <p>Gerado em 21/02/2026 | Confidencial ‚Äî Uso Interno</p>
    </div>

</body>

</html>